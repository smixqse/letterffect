<!DOCTYPE>
<html>
	<head>
		<meta name="theme-color" content="#ededed">
		<link rel="icon" href="https://letterffect.smixqse.ga/favicon.ico?v=2" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="manifest" href="manifest.json">
		<title>Letterffect</title>
		<meta name="Description" content="your words, more beautiful.">
		<meta name="Keywords" content="letterffect, text, effect, smixqse">

		<link rel="stylesheet" href="bulma.min.css" />
		<link rel="stylesheet" href="font-awesome.min.css" />
		<link href="https://fonts.googleapis.com/css?family=Gochi+Hand" rel="stylesheet">
		<script src="jquery.min.js"></script>

	</head>
	<body style="background-color: #ededed;">
		<section class="hero">
			<div class="hero-body">
				<div class="container has-text-centered">
					<h1 class="title" style="font-family: 'Gochi Hand', cursive;">letterffect</h1>
					<h2 class="subtitle">your words, more beautiful.</h2>
				</div>
			</div>
		</section>
		<section class="section">
			<div class="container">
				<h2 class="subtitle has-text-centered" align=center>Write your text below.</h2>
				<nav class="level">
					<div class="level-item">
						<div class="field has-addons">

							<p class="control">
								<input style="width:300px; height:100px;" class="textarea" type="text" placeholder="put your text here" id="input" oninput="updateResults();"></input>
							</p>
						</div>
					</div>
				</nav>
			</div>
		</section>
		<table class="table is-bordered" align=center>
			<thead>
				<tr>
					<th class="has-text-centered">Result</th>
					<th class="has-text-centered">Copy</th>
				</tr>
			</thead>
			<tfoot id="tableOfResults"> <!-- Result and copy buttons table -->
			</tfoot>
		</table>
		<hr>
		<hr>
		<footer class="footer">
			<div class="container">
				<div class="content has-text-centered">
					<p>WORK IN PROGRESS. by SMixqse.</p>
				</div>
			</div>
		</footer>
		<script>

var chars = {
						'a': 'คαДαд',
						'b': 'Ъвβвb',
						'c': 'cc¢૮c',
						'd': 'd∂Ð∂d',
						'e': 'εє€૯Ξ',
						'f': 'ƒƒƒԲƒ',
						'g': 'ggģgg',
						'h': 'ннЋђh',
						'i': '¡iเ¡i',
						'j': 'jנﮊjﻝ',
						'k': 'ккҜઝk',
						'l': 'łℓŁℓĿ',
						'm': 'мммʍm',
						'n': 'หหŋทn',
						'o': 'σσØѳØ',
						'p': 'pρРρp',
						'q': 'qqQ૧q',
						'r': 'яrЯ૨Я',
						's': 'รsکઽŞ',
						't': 'тτ†Ƭt',
						'u': 'uυцષu',
						'v': 'vvұ√v',
						'w': 'ωωખખw',
						'x': 'xxҳ×x',
						'y': 'ყyŶyy',
						'z': 'zʑzzz'
					};

			$("p.control input,button").toggleClass("is-medium has-text-centered");

			$().ready(function(){for (var i = 0; i < chars["a"].length; i++) {
				$("#tableOfResults").append(`<tr>         
					<td style="vertical-align:middle;" id="result` + (i + 1) + `">Write text on the box first</td>
					<td>
						<nav class="level">
							<div class="level-item"><button class="button" id="copy` + (i + 1) + `" onclick="copy('#result` + (i + 1) + `'); copied('#copy` + (i + 1) + `');"><i class="fa fa-clipboard" aria-hidden="true"></i></button></div>
						</nav>
					</td>
				</tr>`);
				
			};

			});


			function copy(selector) {
				var text = $(selector).html();
				var textArea = document.createElement("textarea");
				textArea.style.position = 'fixed';
				textArea.style.top = 0;
				textArea.style.left = 0;
				textArea.style.width = '2em';
				textArea.style.height = '2em';
				textArea.style.padding = 0;
				textArea.style.border = 'none';
				textArea.style.outline = 'none';
				textArea.style.boxShadow = 'none';
				textArea.style.background = 'transparent';
				textArea.value = text;
				document.body.appendChild(textArea);
				textArea.select();
				document.execCommand('copy');
				document.body.removeChild(textArea);
			}

			function copied(selector) {
				var selected = $(selector);
				selected.addClass("is-success");
				$(selector + " i").attr("class", "fa fa-check");
				setTimeout(() => {
					selected.removeClass("is-success");
					$(selector + " i").attr("class", "fa fa-clipboard");
				}, 3000);
			}

			function convertText(text, number) {
				number = Number(number);
				var tempContent = text;
				for (let i in chars) {
					tempContent = tempContent.replace(new RegExp(i, 'gi'), chars[i][number]);
					if (tempContent.startsWith("undefined")) {alert("Error");}
					if (tempContent.startsWith("undefined")) break;
				}
				return tempContent;
			}

			function updateResults() { // Aqui tá o sistema "quebrado"
				$("[id^='result']").each(function(){$(this).html($("#input").val().length > 0 ? convertText($("#input").val(), parseInt($(this).attr("id").slice(-1)) - 1) : convertText("Write text in the box first", parseInt($(this).attr("id").slice(-1)) - 1));});
			}

		</script>
	</body>
</html>